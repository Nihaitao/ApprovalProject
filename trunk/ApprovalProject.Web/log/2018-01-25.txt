[2018-01-25 18:52:12,797][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.DomSqlMapBuilder][ParseGlobalProperties]-- Add property "useStatementNamespaces" value "false"
[2018-01-25 18:52:12,870][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [_getSystemTime] Prepared SQL: [select now();]
[2018-01-25 18:52:12,881][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [selectStationByAccessId] Prepared SQL: [select        h_station.*        from        h_station        where h_station.AccessKeyId= @param0         limit 1]
[2018-01-25 18:52:12,882][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [selectStationByDomain] Prepared SQL: [select        h_station.*        from        h_station        where        (h_station.DomainName= @param0         or h_station.DomainUser= @param0         or h_station.Dominphone= @param0 )        and Valid=1        limit 1]
[2018-01-25 18:52:12,886][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [__selectControllerRole] Prepared SQL: [select * from ControllerRole        where controller= @param0         and action= @param1         and project= @param2         limit 1]
[2018-01-25 18:52:12,891][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApprovalTemplet] Prepared SQL: [SELECT        a.*,(SELECT `Name` from h_station_account where Account_ID=a.AddPersion) as AddPersonName        FROM        sp_approvaltype a        where a.System_Station_ID= @param0  and a.IsDelete=0        order by  a.Enditable desc,a.AddTime desc]
[2018-01-25 18:52:12,891][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetSelectApproval] Prepared SQL: [SELECT a.*,t.`Name` as Title,s.`Name` as AddPersonName,c.ShowName,v.`Value`,c.FieldType from sp_approvallist a        LEFT join sp_approvaltype t on a.ApprovalType_ID=t.ID        LEFT JOIN h_station_account s on a.AddPerson=s.Account_ID        LEFT JOIN h_customfield c on a.ApprovalType_ID=SUBSTRING(c.BusType,10)        LEFT JOIN h_customfield_value v on c.FieldName=v.FieldName        where a.ID= @param0]
[2018-01-25 18:52:12,892][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApprovalField] Prepared SQL: [SELECT ID,Name,DataSource,FieldType from h_customfield  where BusType= @param0  and FieldType in(103,104,106,110) and PID=0 and System_Station_ID= @param1]
[2018-01-25 18:52:12,892][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetAllAcoount] Prepared SQL: [SELECT        t.Account_ID,        t.System_Station_ID,        t.`Name`,        s.Phone,        s.CardNumber,        t.AddTime,        t.Valid,        t.IsAdministrator,        t.Stationproxy_ID,        z.LoginTime,        z.LoginCount,        y.Departments        FROM        h_station_account AS t        LEFT JOIN        (SELECT Account_ID,MAX(LoginTime) LoginTime,COUNT(Account_ID) LoginCount        FROM h_station_account_logindetail GROUP BY Account_ID ORDER BY Account_ID ASC  ) z ON t.Account_ID=z.Account_ID        LEFT JOIN (        SELECT        n.Account_ID,        GROUP_CONCAT(n.Department_ID, ':', n.IsManager) AS Departments        FROM        (SELECT Account_ID,Department_ID,IsMain,IsManager FROM h_station_account_department ORDER BY IsMain desc) n        GROUP BY n.Account_ID        ) y ON t.Account_ID=y.Account_ID        LEFT JOIN h_account s ON t.AccountID=s.ID        WHERE 1=1  AND t.IsDelete=0 and t.System_Station_ID= @param0]
[2018-01-25 18:52:12,893][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetInitiateApplicationList] Prepared SQL: [SELECT * FROM sp_approvaltype        WHERE ID IN (        SELECT ApprovalType_ID FROM sp_approvalvisrange WHERE (TypeID =  @param0  and Type = 1)        OR (Type = 0 and FIND_IN_SET(TypeID,(SELECT group_concat(getParentList (Department_ID)) FROM h_station_account_department WHERE Account_ID =  @param0  AND System_Station_ID =  @param1 ))        ) OR (Type = 2 and TypeID =  @param1 ))        AND System_Station_ID =  @param1  AND IsDelete = 0 AND Enditable = 1]
[2018-01-25 18:52:12,894][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApplicationCustomfield] Prepared SQL: [SELECT * from h_customfield where BusType= @param0  and IsDelete=0 order by SortID]
[2018-01-25 18:52:12,894][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApplicationCondition] Prepared SQL: [SELECT *,AccIds as AccId,DeptIds as DeptId from sp_approvalcondition where ApprovalType_ID= @param0  order by Priority]
[2018-01-25 18:52:12,895][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetDepartment] Prepared SQL: [select a.*,b.Name as AccountName from h_station_account_department a left join h_station_account b on b.Account_ID = a.Account_ID where a.System_Station_ID =  @param0 ;]
[2018-01-25 18:52:12,895][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApprovalConditionObject] Prepared SQL: [SELECT a.*,b.Name as AccName from sp_conditionapproveobject a left join h_station_account b on b.Account_ID = a.AccId order by a.ApprovalCondition_ID,a.Priority]
[2018-01-25 18:52:12,895][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApprovalConditionCC] Prepared SQL: [SELECT a.*,b.Name as AccName from sp_approvalcc a left join h_station_account b on b.Account_ID = a.AccId]
[2018-01-25 18:52:12,896][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetUpDeparts] Prepared SQL: [select getParentList(Department_ID) FROM h_station_account_department where Account_ID =  @param0  and IsMain = 1 and System_Station_ID =  @param1 ;]
[2018-01-25 18:52:12,896][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApprovalInfoModel] Prepared SQL: [SELECT  a.ApprovalType_ID as ID, concat(s.`Name`,'的',t.`Name`) as Title,ApprovalStatus,ApprovalContent        FROM sp_approvallist a        LEFT JOIN sp_approvaltype t ON a.ApprovalType_ID = t.ID        LEFT JOIN h_station_account s ON a.AddPerson = s.Account_ID        WHERE a.ID = @param0]
[2018-01-25 18:52:12,897][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApprovalFieldList] Prepared SQL: [SELECT a.ID FieldID,a.PID,a.`Name` ShowName,b.`Value` ShowValue  from h_customfield a        join h_customfield_value b on a.FieldName = b.FieldName        where a.BusType = concat('approval_', @param0 ) and b.BusType = 100 and b.BusID =  @param1         order by a.SortID,b.ID]
[2018-01-25 18:52:12,897][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApprovalProcessList] Prepared SQL: [select a.*,b.`Name` AccName from sp_approvalprocess a        LEFT JOIN h_station_account b on b.Account_ID=a.AccID where a.ApprovalList_ID =  @param0         Order by Deepth;]
[2018-01-25 18:52:12,897][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApprovalTransferListList] Prepared SQL: [select a.*,b.`Name` AccName from sp_approvaltransfer a        LEFT JOIN h_station_account b on b.Account_ID=a.AccID where a.ApprovalList_ID =  @param0 ;]
[2018-01-25 18:52:12,898][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApprovalprocessModel] Prepared SQL: [SELECT a.ID,a.ApprovalList_ID,a.CounterSign,a.Deepth,a.ApprovalTransfer_ID,        (case when b.AccID > 0 then b.AccID else a.AccID end) as AccID,        (case when b.AccID > 0 then b.Remark else a.Remark end) as Remark,        (case when b.AccID > 0 then b.operationTime else a.operationTime end) as operationTime,        (case when b.AccID > 0 then b.operationStatus else a.operationStatus end) as operationStatus        from sp_approvalprocess a        left join sp_approvaltransfer b on a.approvalTransfer_ID = b.ID        where a.approvallist_id= @param0  and a.Deepth= @param1]
[2018-01-25 18:52:12,898][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApprovaltransferModel] Prepared SQL: [SELECT * from Sp_Approvaltransfer where approvallist_id= @param0]
[2018-01-25 18:52:12,899][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetProcessTransferModel] Prepared SQL: [SELECT a.AccID,b.AccID AccID1 from sp_approvalprocess a left join  sp_approvaltransfer b on a.ApprovalTransfer_ID = b.ID        where a.ApprovalList_ID =  @param0  and a.Deepth =  @param1]
[2018-01-25 18:52:12,899][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApprovalVisrangeList] Prepared SQL: [select a.ApprovalType_ID, a.Type as IsAccount,a.TypeID as DepartmentID,        (case a.Type when 1 then b.`Name` when 2 then  d.`Name` else c.`Name` end) as `Name`        from sp_approvalvisrange a        left join h_station_account b on b.Account_ID=a.TypeID        left join h_department c on c.ID = a.TypeID        left join h_station d on d.ID = a.TypeID        where a.ApprovalType_ID =  @param0]
[2018-01-25 18:52:12,899][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApprovalObjectList] Prepared SQL: [select a.*,b.`Name` AccName from sp_conditionapproveobject a        left join h_station_account b on a.AccId = b.Account_ID]
[2018-01-25 18:52:12,900][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApprovalCCList] Prepared SQL: [select a.*,b.`Name` AccName from sp_approvalcc a        left join h_station_account b on a.AccId = b.Account_ID]
[2018-01-25 18:52:12,900][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetDepartmentInfoList] Prepared SQL: [select ID Department_ID,Name AccountName from h_department]
[2018-01-25 18:52:12,900][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetAcountInfoList] Prepared SQL: [select Account_ID,Name AccountName  from h_station_account where System_Station_ID =  @param0]
[2018-01-25 18:52:12,901][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetCCPerson] Prepared SQL: [SELECT GROUP_CONCAT(b.`Name`) as CCPerson from sp_approvallistcc a left join h_station_account b on a.AccID=b.Account_ID where ApprovalList_ID= @param0]
[2018-01-25 18:52:12,901][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [EnditableApprovalTemplet] Prepared SQL: [update Sp_Approvaltype set Enditable =  @param0  where ID =  @param1 ;]
[2018-01-25 18:52:12,902][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [DeleteApprovalTemplet] Prepared SQL: [update Sp_Approvaltype set IsDelete = 1 where ID =  @param0 ;]
[2018-01-25 18:52:12,902][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetAllDepartment] Prepared SQL: [SELECT        t.ID,        t.CID,        d.`Name` CName,        t. NAME,        s.Name as StationName,        t.AddTime,        t.AddPerson        FROM        h_department t        LEFT JOIN h_station s on t.System_Station_ID=s.ID        LEFT JOIN h_department d ON t.CID=d.ID        where t.System_Station_ID =  @param0]
[2018-01-25 18:52:12,940][thdId:1]-[DEBUG]-[CT.Common.Services.Bootstrapper][EnableExceptionLess]-- exceptionless exceptionLessServerUrl=http://47.97.163.229:5000/
[2018-01-25 18:52:12,941][thdId:1]-[DEBUG]-[CT.Common.Services.Bootstrapper][EnableExceptionLess]-- exceptionless exceptionLessKey=
[2018-01-25 18:52:12,941][thdId:1]-[DEBUG]-[CT.Common.Services.Bootstrapper][EnableExceptionLess]-- exceptionLess配置为空，不启用
[2018-01-25 18:52:22,566][thdId:14]-[DEBUG]-[SimpleConf.Client.Client.PullService][Debug]-- 当前Command=Alive
[2018-01-25 18:52:22,571][thdId:14]-[DEBUG]-[SimpleConf.Client.Client.Command.AliveAdapterImpl][Debug]-- Alive
[2018-01-25 18:53:28,003][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.DomSqlMapBuilder][ParseGlobalProperties]-- Add property "useStatementNamespaces" value "false"
[2018-01-25 18:53:28,078][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [_getSystemTime] Prepared SQL: [select now();]
[2018-01-25 18:53:28,089][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [selectStationByAccessId] Prepared SQL: [select        h_station.*        from        h_station        where h_station.AccessKeyId= @param0         limit 1]
[2018-01-25 18:53:28,090][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [selectStationByDomain] Prepared SQL: [select        h_station.*        from        h_station        where        (h_station.DomainName= @param0         or h_station.DomainUser= @param0         or h_station.Dominphone= @param0 )        and Valid=1        limit 1]
[2018-01-25 18:53:28,094][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [__selectControllerRole] Prepared SQL: [select * from ControllerRole        where controller= @param0         and action= @param1         and project= @param2         limit 1]
[2018-01-25 18:53:28,132][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApprovalTemplet] Prepared SQL: [SELECT        a.*,(SELECT `Name` from h_station_account where Account_ID=a.AddPersion) as AddPersonName        FROM        sp_approvaltype a        where a.System_Station_ID= @param0  and a.IsDelete=0        order by  a.Enditable desc,a.AddTime desc]
[2018-01-25 18:53:28,132][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetSelectApproval] Prepared SQL: [SELECT a.*,t.`Name` as Title,s.`Name` as AddPersonName,c.ShowName,v.`Value`,c.FieldType from sp_approvallist a        LEFT join sp_approvaltype t on a.ApprovalType_ID=t.ID        LEFT JOIN h_station_account s on a.AddPerson=s.Account_ID        LEFT JOIN h_customfield c on a.ApprovalType_ID=SUBSTRING(c.BusType,10)        LEFT JOIN h_customfield_value v on c.FieldName=v.FieldName        where a.ID= @param0]
[2018-01-25 18:53:28,133][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApprovalField] Prepared SQL: [SELECT ID,Name,DataSource,FieldType from h_customfield  where BusType= @param0  and FieldType in(103,104,106,110) and PID=0 and System_Station_ID= @param1]
[2018-01-25 18:53:28,134][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetAllAcoount] Prepared SQL: [SELECT        t.Account_ID,        t.System_Station_ID,        t.`Name`,        s.Phone,        s.CardNumber,        t.AddTime,        t.Valid,        t.IsAdministrator,        t.Stationproxy_ID,        z.LoginTime,        z.LoginCount,        y.Departments        FROM        h_station_account AS t        LEFT JOIN        (SELECT Account_ID,MAX(LoginTime) LoginTime,COUNT(Account_ID) LoginCount        FROM h_station_account_logindetail GROUP BY Account_ID ORDER BY Account_ID ASC  ) z ON t.Account_ID=z.Account_ID        LEFT JOIN (        SELECT        n.Account_ID,        GROUP_CONCAT(n.Department_ID, ':', n.IsManager) AS Departments        FROM        (SELECT Account_ID,Department_ID,IsMain,IsManager FROM h_station_account_department ORDER BY IsMain desc) n        GROUP BY n.Account_ID        ) y ON t.Account_ID=y.Account_ID        LEFT JOIN h_account s ON t.AccountID=s.ID        WHERE 1=1  AND t.IsDelete=0 and t.System_Station_ID= @param0]
[2018-01-25 18:53:28,135][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetInitiateApplicationList] Prepared SQL: [SELECT * FROM sp_approvaltype        WHERE ID IN (        SELECT ApprovalType_ID FROM sp_approvalvisrange WHERE (TypeID =  @param0  and Type = 1)        OR (Type = 0 and FIND_IN_SET(TypeID,(SELECT group_concat(getParentList (Department_ID)) FROM h_station_account_department WHERE Account_ID =  @param0  AND System_Station_ID =  @param1 ))        ) OR (Type = 2 and TypeID =  @param1 ))        AND System_Station_ID =  @param1  AND IsDelete = 0 AND Enditable = 1]
[2018-01-25 18:53:28,135][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApplicationCustomfield] Prepared SQL: [SELECT * from h_customfield where BusType= @param0  and IsDelete=0 order by SortID]
[2018-01-25 18:53:28,136][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApplicationCondition] Prepared SQL: [SELECT *,AccIds as AccId,DeptIds as DeptId from sp_approvalcondition where ApprovalType_ID= @param0  order by Priority]
[2018-01-25 18:53:28,136][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetDepartment] Prepared SQL: [select a.*,b.Name as AccountName from h_station_account_department a left join h_station_account b on b.Account_ID = a.Account_ID where a.System_Station_ID =  @param0 ;]
[2018-01-25 18:53:28,136][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApprovalConditionObject] Prepared SQL: [SELECT a.*,b.Name as AccName from sp_conditionapproveobject a left join h_station_account b on b.Account_ID = a.AccId order by a.ApprovalCondition_ID,a.Priority]
[2018-01-25 18:53:28,137][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApprovalConditionCC] Prepared SQL: [SELECT a.*,b.Name as AccName from sp_approvalcc a left join h_station_account b on b.Account_ID = a.AccId]
[2018-01-25 18:53:28,137][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetUpDeparts] Prepared SQL: [select getParentList(Department_ID) FROM h_station_account_department where Account_ID =  @param0  and IsMain = 1 and System_Station_ID =  @param1 ;]
[2018-01-25 18:53:28,137][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApprovalInfoModel] Prepared SQL: [SELECT  a.ApprovalType_ID as ID, concat(s.`Name`,'的',t.`Name`) as Title,ApprovalStatus,ApprovalContent        FROM sp_approvallist a        LEFT JOIN sp_approvaltype t ON a.ApprovalType_ID = t.ID        LEFT JOIN h_station_account s ON a.AddPerson = s.Account_ID        WHERE a.ID = @param0]
[2018-01-25 18:53:28,138][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApprovalFieldList] Prepared SQL: [SELECT a.ID FieldID,a.PID,a.`Name` ShowName,b.`Value` ShowValue  from h_customfield a        join h_customfield_value b on a.FieldName = b.FieldName        where a.BusType = concat('approval_', @param0 ) and b.BusType = 100 and b.BusID =  @param1         order by a.SortID,b.ID]
[2018-01-25 18:53:28,138][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApprovalProcessList] Prepared SQL: [select a.*,b.`Name` AccName from sp_approvalprocess a        LEFT JOIN h_station_account b on b.Account_ID=a.AccID where a.ApprovalList_ID =  @param0         Order by Deepth;]
[2018-01-25 18:53:28,139][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApprovalTransferListList] Prepared SQL: [select a.*,b.`Name` AccName from sp_approvaltransfer a        LEFT JOIN h_station_account b on b.Account_ID=a.AccID where a.ApprovalList_ID =  @param0 ;]
[2018-01-25 18:53:28,139][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApprovalprocessModel] Prepared SQL: [SELECT a.ID,a.ApprovalList_ID,a.CounterSign,a.Deepth,a.ApprovalTransfer_ID,        (case when b.AccID > 0 then b.AccID else a.AccID end) as AccID,        (case when b.AccID > 0 then b.Remark else a.Remark end) as Remark,        (case when b.AccID > 0 then b.operationTime else a.operationTime end) as operationTime,        (case when b.AccID > 0 then b.operationStatus else a.operationStatus end) as operationStatus        from sp_approvalprocess a        left join sp_approvaltransfer b on a.approvalTransfer_ID = b.ID        where a.approvallist_id= @param0  and a.Deepth= @param1]
[2018-01-25 18:53:28,139][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApprovaltransferModel] Prepared SQL: [SELECT * from Sp_Approvaltransfer where approvallist_id= @param0]
[2018-01-25 18:53:28,140][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetProcessTransferModel] Prepared SQL: [SELECT a.AccID,b.AccID AccID1 from sp_approvalprocess a left join  sp_approvaltransfer b on a.ApprovalTransfer_ID = b.ID        where a.ApprovalList_ID =  @param0  and a.Deepth =  @param1]
[2018-01-25 18:53:28,140][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApprovalVisrangeList] Prepared SQL: [select a.ApprovalType_ID, a.Type as IsAccount,a.TypeID as DepartmentID,        (case a.Type when 1 then b.`Name` when 2 then  d.`Name` else c.`Name` end) as `Name`        from sp_approvalvisrange a        left join h_station_account b on b.Account_ID=a.TypeID        left join h_department c on c.ID = a.TypeID        left join h_station d on d.ID = a.TypeID        where a.ApprovalType_ID =  @param0]
[2018-01-25 18:53:28,141][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApprovalObjectList] Prepared SQL: [select a.*,b.`Name` AccName from sp_conditionapproveobject a        left join h_station_account b on a.AccId = b.Account_ID]
[2018-01-25 18:53:28,141][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApprovalCCList] Prepared SQL: [select a.*,b.`Name` AccName from sp_approvalcc a        left join h_station_account b on a.AccId = b.Account_ID]
[2018-01-25 18:53:28,141][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetDepartmentInfoList] Prepared SQL: [select ID Department_ID,Name AccountName from h_department]
[2018-01-25 18:53:28,141][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetAcountInfoList] Prepared SQL: [select Account_ID,Name AccountName  from h_station_account where System_Station_ID =  @param0]
[2018-01-25 18:53:28,142][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetCCPerson] Prepared SQL: [SELECT GROUP_CONCAT(b.`Name`) as CCPerson from sp_approvallistcc a left join h_station_account b on a.AccID=b.Account_ID where ApprovalList_ID= @param0]
[2018-01-25 18:53:28,143][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [EnditableApprovalTemplet] Prepared SQL: [update Sp_Approvaltype set Enditable =  @param0  where ID =  @param1 ;]
[2018-01-25 18:53:28,143][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [DeleteApprovalTemplet] Prepared SQL: [update Sp_Approvaltype set IsDelete = 1 where ID =  @param0 ;]
[2018-01-25 18:53:28,154][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetAllDepartment] Prepared SQL: [SELECT        t.ID,        t.CID,        d.`Name` CName,        t. NAME,        s.Name as StationName,        t.AddTime,        t.AddPerson        FROM        h_department t        LEFT JOIN h_station s on t.System_Station_ID=s.ID        LEFT JOIN h_department d ON t.CID=d.ID        where t.System_Station_ID =  @param0]
[2018-01-25 18:53:28,208][thdId:1]-[DEBUG]-[CT.Common.Services.Bootstrapper][EnableExceptionLess]-- exceptionless exceptionLessServerUrl=http://47.97.163.229:5000/
[2018-01-25 18:53:28,209][thdId:1]-[DEBUG]-[CT.Common.Services.Bootstrapper][EnableExceptionLess]-- exceptionless exceptionLessKey=
[2018-01-25 18:53:28,209][thdId:1]-[DEBUG]-[CT.Common.Services.Bootstrapper][EnableExceptionLess]-- exceptionLess配置为空，不启用
[2018-01-25 18:53:37,489][thdId:10]-[DEBUG]-[SimpleConf.Client.Client.PullService][Debug]-- 当前Command=Alive
[2018-01-25 18:53:37,495][thdId:10]-[DEBUG]-[SimpleConf.Client.Client.Command.AliveAdapterImpl][Debug]-- Alive
[2018-01-25 18:54:05,400][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.DomSqlMapBuilder][ParseGlobalProperties]-- Add property "useStatementNamespaces" value "false"
[2018-01-25 18:54:05,467][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [_getSystemTime] Prepared SQL: [select now();]
[2018-01-25 18:54:05,476][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [selectStationByAccessId] Prepared SQL: [select        h_station.*        from        h_station        where h_station.AccessKeyId= @param0         limit 1]
[2018-01-25 18:54:05,477][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [selectStationByDomain] Prepared SQL: [select        h_station.*        from        h_station        where        (h_station.DomainName= @param0         or h_station.DomainUser= @param0         or h_station.Dominphone= @param0 )        and Valid=1        limit 1]
[2018-01-25 18:54:05,481][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [__selectControllerRole] Prepared SQL: [select * from ControllerRole        where controller= @param0         and action= @param1         and project= @param2         limit 1]
[2018-01-25 18:54:05,516][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApprovalTemplet] Prepared SQL: [SELECT        a.*,(SELECT `Name` from h_station_account where Account_ID=a.AddPersion) as AddPersonName        FROM        sp_approvaltype a        where a.System_Station_ID= @param0  and a.IsDelete=0        order by  a.Enditable desc,a.AddTime desc]
[2018-01-25 18:54:05,516][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetSelectApproval] Prepared SQL: [SELECT a.*,t.`Name` as Title,s.`Name` as AddPersonName,c.ShowName,v.`Value`,c.FieldType from sp_approvallist a        LEFT join sp_approvaltype t on a.ApprovalType_ID=t.ID        LEFT JOIN h_station_account s on a.AddPerson=s.Account_ID        LEFT JOIN h_customfield c on a.ApprovalType_ID=SUBSTRING(c.BusType,10)        LEFT JOIN h_customfield_value v on c.FieldName=v.FieldName        where a.ID= @param0]
[2018-01-25 18:54:05,517][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApprovalField] Prepared SQL: [SELECT ID,Name,DataSource,FieldType from h_customfield  where BusType= @param0  and FieldType in(103,104,106,110) and PID=0 and System_Station_ID= @param1]
[2018-01-25 18:54:05,518][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetAllAcoount] Prepared SQL: [SELECT        t.Account_ID,        t.System_Station_ID,        t.`Name`,        s.Phone,        s.CardNumber,        t.AddTime,        t.Valid,        t.IsAdministrator,        t.Stationproxy_ID,        z.LoginTime,        z.LoginCount,        y.Departments        FROM        h_station_account AS t        LEFT JOIN        (SELECT Account_ID,MAX(LoginTime) LoginTime,COUNT(Account_ID) LoginCount        FROM h_station_account_logindetail GROUP BY Account_ID ORDER BY Account_ID ASC  ) z ON t.Account_ID=z.Account_ID        LEFT JOIN (        SELECT        n.Account_ID,        GROUP_CONCAT(n.Department_ID, ':', n.IsManager) AS Departments        FROM        (SELECT Account_ID,Department_ID,IsMain,IsManager FROM h_station_account_department ORDER BY IsMain desc) n        GROUP BY n.Account_ID        ) y ON t.Account_ID=y.Account_ID        LEFT JOIN h_account s ON t.AccountID=s.ID        WHERE 1=1  AND t.IsDelete=0 and t.System_Station_ID= @param0]
[2018-01-25 18:54:05,518][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetInitiateApplicationList] Prepared SQL: [SELECT * FROM sp_approvaltype        WHERE ID IN (        SELECT ApprovalType_ID FROM sp_approvalvisrange WHERE (TypeID =  @param0  and Type = 1)        OR (Type = 0 and FIND_IN_SET(TypeID,(SELECT group_concat(getParentList (Department_ID)) FROM h_station_account_department WHERE Account_ID =  @param0  AND System_Station_ID =  @param1 ))        ) OR (Type = 2 and TypeID =  @param1 ))        AND System_Station_ID =  @param1  AND IsDelete = 0 AND Enditable = 1]
[2018-01-25 18:54:05,519][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApplicationCustomfield] Prepared SQL: [SELECT * from h_customfield where BusType= @param0  and IsDelete=0 order by SortID]
[2018-01-25 18:54:05,519][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApplicationCondition] Prepared SQL: [SELECT *,AccIds as AccId,DeptIds as DeptId from sp_approvalcondition where ApprovalType_ID= @param0  order by Priority]
[2018-01-25 18:54:05,520][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetDepartment] Prepared SQL: [select a.*,b.Name as AccountName from h_station_account_department a left join h_station_account b on b.Account_ID = a.Account_ID where a.System_Station_ID =  @param0 ;]
[2018-01-25 18:54:05,520][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApprovalConditionObject] Prepared SQL: [SELECT a.*,b.Name as AccName from sp_conditionapproveobject a left join h_station_account b on b.Account_ID = a.AccId order by a.ApprovalCondition_ID,a.Priority]
[2018-01-25 18:54:05,520][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApprovalConditionCC] Prepared SQL: [SELECT a.*,b.Name as AccName from sp_approvalcc a left join h_station_account b on b.Account_ID = a.AccId]
[2018-01-25 18:54:05,521][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetUpDeparts] Prepared SQL: [select getParentList(Department_ID) FROM h_station_account_department where Account_ID =  @param0  and IsMain = 1 and System_Station_ID =  @param1 ;]
[2018-01-25 18:54:05,521][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApprovalInfoModel] Prepared SQL: [SELECT  a.ApprovalType_ID as ID, concat(s.`Name`,'的',t.`Name`) as Title,ApprovalStatus,ApprovalContent        FROM sp_approvallist a        LEFT JOIN sp_approvaltype t ON a.ApprovalType_ID = t.ID        LEFT JOIN h_station_account s ON a.AddPerson = s.Account_ID        WHERE a.ID = @param0]
[2018-01-25 18:54:05,522][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApprovalFieldList] Prepared SQL: [SELECT a.ID FieldID,a.PID,a.`Name` ShowName,b.`Value` ShowValue  from h_customfield a        join h_customfield_value b on a.FieldName = b.FieldName        where a.BusType = concat('approval_', @param0 ) and b.BusType = 100 and b.BusID =  @param1         order by a.SortID,b.ID]
[2018-01-25 18:54:05,522][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApprovalProcessList] Prepared SQL: [select a.*,b.`Name` AccName from sp_approvalprocess a        LEFT JOIN h_station_account b on b.Account_ID=a.AccID where a.ApprovalList_ID =  @param0         Order by Deepth;]
[2018-01-25 18:54:05,523][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApprovalTransferListList] Prepared SQL: [select a.*,b.`Name` AccName from sp_approvaltransfer a        LEFT JOIN h_station_account b on b.Account_ID=a.AccID where a.ApprovalList_ID =  @param0 ;]
[2018-01-25 18:54:05,523][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApprovalprocessModel] Prepared SQL: [SELECT a.ID,a.ApprovalList_ID,a.CounterSign,a.Deepth,a.ApprovalTransfer_ID,        (case when b.AccID > 0 then b.AccID else a.AccID end) as AccID,        (case when b.AccID > 0 then b.Remark else a.Remark end) as Remark,        (case when b.AccID > 0 then b.operationTime else a.operationTime end) as operationTime,        (case when b.AccID > 0 then b.operationStatus else a.operationStatus end) as operationStatus        from sp_approvalprocess a        left join sp_approvaltransfer b on a.approvalTransfer_ID = b.ID        where a.approvallist_id= @param0  and a.Deepth= @param1]
[2018-01-25 18:54:05,524][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApprovaltransferModel] Prepared SQL: [SELECT * from Sp_Approvaltransfer where approvallist_id= @param0]
[2018-01-25 18:54:05,524][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetProcessTransferModel] Prepared SQL: [SELECT a.AccID,b.AccID AccID1 from sp_approvalprocess a left join  sp_approvaltransfer b on a.ApprovalTransfer_ID = b.ID        where a.ApprovalList_ID =  @param0  and a.Deepth =  @param1]
[2018-01-25 18:54:05,525][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApprovalVisrangeList] Prepared SQL: [select a.ApprovalType_ID, a.Type as IsAccount,a.TypeID as DepartmentID,        (case a.Type when 1 then b.`Name` when 2 then  d.`Name` else c.`Name` end) as `Name`        from sp_approvalvisrange a        left join h_station_account b on b.Account_ID=a.TypeID        left join h_department c on c.ID = a.TypeID        left join h_station d on d.ID = a.TypeID        where a.ApprovalType_ID =  @param0]
[2018-01-25 18:54:05,525][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApprovalObjectList] Prepared SQL: [select a.*,b.`Name` AccName from sp_conditionapproveobject a        left join h_station_account b on a.AccId = b.Account_ID]
[2018-01-25 18:54:05,526][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApprovalCCList] Prepared SQL: [select a.*,b.`Name` AccName from sp_approvalcc a        left join h_station_account b on a.AccId = b.Account_ID]
[2018-01-25 18:54:05,526][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetDepartmentInfoList] Prepared SQL: [select ID Department_ID,Name AccountName from h_department]
[2018-01-25 18:54:05,526][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetAcountInfoList] Prepared SQL: [select Account_ID,Name AccountName  from h_station_account where System_Station_ID =  @param0]
[2018-01-25 18:54:05,527][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetCCPerson] Prepared SQL: [SELECT GROUP_CONCAT(b.`Name`) as CCPerson from sp_approvallistcc a left join h_station_account b on a.AccID=b.Account_ID where ApprovalList_ID= @param0]
[2018-01-25 18:54:05,528][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [EnditableApprovalTemplet] Prepared SQL: [update Sp_Approvaltype set Enditable =  @param0  where ID =  @param1 ;]
[2018-01-25 18:54:05,528][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [DeleteApprovalTemplet] Prepared SQL: [update Sp_Approvaltype set IsDelete = 1 where ID =  @param0 ;]
[2018-01-25 18:54:05,538][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetAllDepartment] Prepared SQL: [SELECT        t.ID,        t.CID,        d.`Name` CName,        t. NAME,        s.Name as StationName,        t.AddTime,        t.AddPerson        FROM        h_department t        LEFT JOIN h_station s on t.System_Station_ID=s.ID        LEFT JOIN h_department d ON t.CID=d.ID        where t.System_Station_ID =  @param0]
[2018-01-25 18:54:05,589][thdId:1]-[DEBUG]-[CT.Common.Services.Bootstrapper][EnableExceptionLess]-- exceptionless exceptionLessServerUrl=http://47.97.163.229:5000/
[2018-01-25 18:54:05,590][thdId:1]-[DEBUG]-[CT.Common.Services.Bootstrapper][EnableExceptionLess]-- exceptionless exceptionLessKey=
[2018-01-25 18:54:05,590][thdId:1]-[DEBUG]-[CT.Common.Services.Bootstrapper][EnableExceptionLess]-- exceptionLess配置为空，不启用
[2018-01-25 18:54:14,918][thdId:10]-[DEBUG]-[SimpleConf.Client.Client.PullService][Debug]-- 当前Command=Alive
[2018-01-25 18:54:14,924][thdId:10]-[DEBUG]-[SimpleConf.Client.Client.Command.AliveAdapterImpl][Debug]-- Alive
[2018-01-25 18:54:42,601][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.DomSqlMapBuilder][ParseGlobalProperties]-- Add property "useStatementNamespaces" value "false"
[2018-01-25 18:54:42,668][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [_getSystemTime] Prepared SQL: [select now();]
[2018-01-25 18:54:42,677][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [selectStationByAccessId] Prepared SQL: [select        h_station.*        from        h_station        where h_station.AccessKeyId= @param0         limit 1]
[2018-01-25 18:54:42,677][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [selectStationByDomain] Prepared SQL: [select        h_station.*        from        h_station        where        (h_station.DomainName= @param0         or h_station.DomainUser= @param0         or h_station.Dominphone= @param0 )        and Valid=1        limit 1]
[2018-01-25 18:54:42,681][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [__selectControllerRole] Prepared SQL: [select * from ControllerRole        where controller= @param0         and action= @param1         and project= @param2         limit 1]
[2018-01-25 18:54:42,719][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApprovalTemplet] Prepared SQL: [SELECT        a.*,(SELECT `Name` from h_station_account where Account_ID=a.AddPersion) as AddPersonName        FROM        sp_approvaltype a        where a.System_Station_ID= @param0  and a.IsDelete=0        order by  a.Enditable desc,a.AddTime desc]
[2018-01-25 18:54:42,719][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetSelectApproval] Prepared SQL: [SELECT a.*,t.`Name` as Title,s.`Name` as AddPersonName,c.ShowName,v.`Value`,c.FieldType from sp_approvallist a        LEFT join sp_approvaltype t on a.ApprovalType_ID=t.ID        LEFT JOIN h_station_account s on a.AddPerson=s.Account_ID        LEFT JOIN h_customfield c on a.ApprovalType_ID=SUBSTRING(c.BusType,10)        LEFT JOIN h_customfield_value v on c.FieldName=v.FieldName        where a.ID= @param0]
[2018-01-25 18:54:42,720][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApprovalField] Prepared SQL: [SELECT ID,Name,DataSource,FieldType from h_customfield  where BusType= @param0  and FieldType in(103,104,106,110) and PID=0 and System_Station_ID= @param1]
[2018-01-25 18:54:42,720][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetAllAcoount] Prepared SQL: [SELECT        t.Account_ID,        t.System_Station_ID,        t.`Name`,        s.Phone,        s.CardNumber,        t.AddTime,        t.Valid,        t.IsAdministrator,        t.Stationproxy_ID,        z.LoginTime,        z.LoginCount,        y.Departments        FROM        h_station_account AS t        LEFT JOIN        (SELECT Account_ID,MAX(LoginTime) LoginTime,COUNT(Account_ID) LoginCount        FROM h_station_account_logindetail GROUP BY Account_ID ORDER BY Account_ID ASC  ) z ON t.Account_ID=z.Account_ID        LEFT JOIN (        SELECT        n.Account_ID,        GROUP_CONCAT(n.Department_ID, ':', n.IsManager) AS Departments        FROM        (SELECT Account_ID,Department_ID,IsMain,IsManager FROM h_station_account_department ORDER BY IsMain desc) n        GROUP BY n.Account_ID        ) y ON t.Account_ID=y.Account_ID        LEFT JOIN h_account s ON t.AccountID=s.ID        WHERE 1=1  AND t.IsDelete=0 and t.System_Station_ID= @param0]
[2018-01-25 18:54:42,721][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetInitiateApplicationList] Prepared SQL: [SELECT * FROM sp_approvaltype        WHERE ID IN (        SELECT ApprovalType_ID FROM sp_approvalvisrange WHERE (TypeID =  @param0  and Type = 1)        OR (Type = 0 and FIND_IN_SET(TypeID,(SELECT group_concat(getParentList (Department_ID)) FROM h_station_account_department WHERE Account_ID =  @param0  AND System_Station_ID =  @param1 ))        ) OR (Type = 2 and TypeID =  @param1 ))        AND System_Station_ID =  @param1  AND IsDelete = 0 AND Enditable = 1]
[2018-01-25 18:54:42,721][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApplicationCustomfield] Prepared SQL: [SELECT * from h_customfield where BusType= @param0  and IsDelete=0 order by SortID]
[2018-01-25 18:54:42,721][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApplicationCondition] Prepared SQL: [SELECT *,AccIds as AccId,DeptIds as DeptId from sp_approvalcondition where ApprovalType_ID= @param0  order by Priority]
[2018-01-25 18:54:42,722][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetDepartment] Prepared SQL: [select a.*,b.Name as AccountName from h_station_account_department a left join h_station_account b on b.Account_ID = a.Account_ID where a.System_Station_ID =  @param0 ;]
[2018-01-25 18:54:42,722][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApprovalConditionObject] Prepared SQL: [SELECT a.*,b.Name as AccName from sp_conditionapproveobject a left join h_station_account b on b.Account_ID = a.AccId order by a.ApprovalCondition_ID,a.Priority]
[2018-01-25 18:54:42,723][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApprovalConditionCC] Prepared SQL: [SELECT a.*,b.Name as AccName from sp_approvalcc a left join h_station_account b on b.Account_ID = a.AccId]
[2018-01-25 18:54:42,723][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetUpDeparts] Prepared SQL: [select getParentList(Department_ID) FROM h_station_account_department where Account_ID =  @param0  and IsMain = 1 and System_Station_ID =  @param1 ;]
[2018-01-25 18:54:42,723][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApprovalInfoModel] Prepared SQL: [SELECT  a.ApprovalType_ID as ID, concat(s.`Name`,'的',t.`Name`) as Title,ApprovalStatus,ApprovalContent        FROM sp_approvallist a        LEFT JOIN sp_approvaltype t ON a.ApprovalType_ID = t.ID        LEFT JOIN h_station_account s ON a.AddPerson = s.Account_ID        WHERE a.ID = @param0]
[2018-01-25 18:54:42,724][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApprovalFieldList] Prepared SQL: [SELECT a.ID FieldID,a.PID,a.`Name` ShowName,b.`Value` ShowValue  from h_customfield a        join h_customfield_value b on a.FieldName = b.FieldName        where a.BusType = concat('approval_', @param0 ) and b.BusType = 100 and b.BusID =  @param1         order by a.SortID,b.ID]
[2018-01-25 18:54:42,724][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApprovalProcessList] Prepared SQL: [select a.*,b.`Name` AccName from sp_approvalprocess a        LEFT JOIN h_station_account b on b.Account_ID=a.AccID where a.ApprovalList_ID =  @param0         Order by Deepth;]
[2018-01-25 18:54:42,725][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApprovalTransferListList] Prepared SQL: [select a.*,b.`Name` AccName from sp_approvaltransfer a        LEFT JOIN h_station_account b on b.Account_ID=a.AccID where a.ApprovalList_ID =  @param0 ;]
[2018-01-25 18:54:42,725][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApprovalprocessModel] Prepared SQL: [SELECT a.ID,a.ApprovalList_ID,a.CounterSign,a.Deepth,a.ApprovalTransfer_ID,        (case when b.AccID > 0 then b.AccID else a.AccID end) as AccID,        (case when b.AccID > 0 then b.Remark else a.Remark end) as Remark,        (case when b.AccID > 0 then b.operationTime else a.operationTime end) as operationTime,        (case when b.AccID > 0 then b.operationStatus else a.operationStatus end) as operationStatus        from sp_approvalprocess a        left join sp_approvaltransfer b on a.approvalTransfer_ID = b.ID        where a.approvallist_id= @param0  and a.Deepth= @param1]
[2018-01-25 18:54:42,726][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApprovaltransferModel] Prepared SQL: [SELECT * from Sp_Approvaltransfer where approvallist_id= @param0]
[2018-01-25 18:54:42,726][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetProcessTransferModel] Prepared SQL: [SELECT a.AccID,b.AccID AccID1 from sp_approvalprocess a left join  sp_approvaltransfer b on a.ApprovalTransfer_ID = b.ID        where a.ApprovalList_ID =  @param0  and a.Deepth =  @param1]
[2018-01-25 18:54:42,726][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApprovalVisrangeList] Prepared SQL: [select a.ApprovalType_ID, a.Type as IsAccount,a.TypeID as DepartmentID,        (case a.Type when 1 then b.`Name` when 2 then  d.`Name` else c.`Name` end) as `Name`        from sp_approvalvisrange a        left join h_station_account b on b.Account_ID=a.TypeID        left join h_department c on c.ID = a.TypeID        left join h_station d on d.ID = a.TypeID        where a.ApprovalType_ID =  @param0]
[2018-01-25 18:54:42,727][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApprovalObjectList] Prepared SQL: [select a.*,b.`Name` AccName from sp_conditionapproveobject a        left join h_station_account b on a.AccId = b.Account_ID]
[2018-01-25 18:54:42,727][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApprovalCCList] Prepared SQL: [select a.*,b.`Name` AccName from sp_approvalcc a        left join h_station_account b on a.AccId = b.Account_ID]
[2018-01-25 18:54:42,727][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetDepartmentInfoList] Prepared SQL: [select ID Department_ID,Name AccountName from h_department]
[2018-01-25 18:54:42,728][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetAcountInfoList] Prepared SQL: [select Account_ID,Name AccountName  from h_station_account where System_Station_ID =  @param0]
[2018-01-25 18:54:42,728][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetCCPerson] Prepared SQL: [SELECT GROUP_CONCAT(b.`Name`) as CCPerson from sp_approvallistcc a left join h_station_account b on a.AccID=b.Account_ID where ApprovalList_ID= @param0]
[2018-01-25 18:54:42,729][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [EnditableApprovalTemplet] Prepared SQL: [update Sp_Approvaltype set Enditable =  @param0  where ID =  @param1 ;]
[2018-01-25 18:54:42,729][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [DeleteApprovalTemplet] Prepared SQL: [update Sp_Approvaltype set IsDelete = 1 where ID =  @param0 ;]
[2018-01-25 18:54:42,752][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetAllDepartment] Prepared SQL: [SELECT        t.ID,        t.CID,        d.`Name` CName,        t. NAME,        s.Name as StationName,        t.AddTime,        t.AddPerson        FROM        h_department t        LEFT JOIN h_station s on t.System_Station_ID=s.ID        LEFT JOIN h_department d ON t.CID=d.ID        where t.System_Station_ID =  @param0]
[2018-01-25 18:54:42,802][thdId:1]-[DEBUG]-[CT.Common.Services.Bootstrapper][EnableExceptionLess]-- exceptionless exceptionLessServerUrl=http://47.97.163.229:5000/
[2018-01-25 18:54:42,802][thdId:1]-[DEBUG]-[CT.Common.Services.Bootstrapper][EnableExceptionLess]-- exceptionless exceptionLessKey=
[2018-01-25 18:54:42,803][thdId:1]-[DEBUG]-[CT.Common.Services.Bootstrapper][EnableExceptionLess]-- exceptionLess配置为空，不启用
[2018-01-25 18:54:52,140][thdId:10]-[DEBUG]-[SimpleConf.Client.Client.PullService][Debug]-- 当前Command=Alive
[2018-01-25 18:54:52,146][thdId:10]-[DEBUG]-[SimpleConf.Client.Client.Command.AliveAdapterImpl][Debug]-- Alive
[2018-01-25 18:58:06,212][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.DomSqlMapBuilder][ParseGlobalProperties]-- Add property "useStatementNamespaces" value "false"
[2018-01-25 18:58:06,280][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [_getSystemTime] Prepared SQL: [select now();]
[2018-01-25 18:58:06,289][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [selectStationByAccessId] Prepared SQL: [select        h_station.*        from        h_station        where h_station.AccessKeyId= @param0         limit 1]
[2018-01-25 18:58:06,289][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [selectStationByDomain] Prepared SQL: [select        h_station.*        from        h_station        where        (h_station.DomainName= @param0         or h_station.DomainUser= @param0         or h_station.Dominphone= @param0 )        and Valid=1        limit 1]
[2018-01-25 18:58:06,293][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [__selectControllerRole] Prepared SQL: [select * from ControllerRole        where controller= @param0         and action= @param1         and project= @param2         limit 1]
[2018-01-25 18:58:06,338][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApprovalTemplet] Prepared SQL: [SELECT        a.*,(SELECT `Name` from h_station_account where Account_ID=a.AddPersion) as AddPersonName        FROM        sp_approvaltype a        where a.System_Station_ID= @param0  and a.IsDelete=0        order by  a.Enditable desc,a.AddTime desc]
[2018-01-25 18:58:06,339][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetSelectApproval] Prepared SQL: [SELECT a.*,t.`Name` as Title,s.`Name` as AddPersonName,c.ShowName,v.`Value`,c.FieldType from sp_approvallist a        LEFT join sp_approvaltype t on a.ApprovalType_ID=t.ID        LEFT JOIN h_station_account s on a.AddPerson=s.Account_ID        LEFT JOIN h_customfield c on a.ApprovalType_ID=SUBSTRING(c.BusType,10)        LEFT JOIN h_customfield_value v on c.FieldName=v.FieldName        where a.ID= @param0]
[2018-01-25 18:58:06,340][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApprovalField] Prepared SQL: [SELECT ID,Name,DataSource,FieldType from h_customfield  where BusType= @param0  and FieldType in(103,104,106,110) and PID=0 and System_Station_ID= @param1]
[2018-01-25 18:58:06,341][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetAllAcoount] Prepared SQL: [SELECT        t.Account_ID,        t.System_Station_ID,        t.`Name`,        s.Phone,        s.CardNumber,        t.AddTime,        t.Valid,        t.IsAdministrator,        t.Stationproxy_ID,        z.LoginTime,        z.LoginCount,        y.Departments        FROM        h_station_account AS t        LEFT JOIN        (SELECT Account_ID,MAX(LoginTime) LoginTime,COUNT(Account_ID) LoginCount        FROM h_station_account_logindetail GROUP BY Account_ID ORDER BY Account_ID ASC  ) z ON t.Account_ID=z.Account_ID        LEFT JOIN (        SELECT        n.Account_ID,        GROUP_CONCAT(n.Department_ID, ':', n.IsManager) AS Departments        FROM        (SELECT Account_ID,Department_ID,IsMain,IsManager FROM h_station_account_department ORDER BY IsMain desc) n        GROUP BY n.Account_ID        ) y ON t.Account_ID=y.Account_ID        LEFT JOIN h_account s ON t.AccountID=s.ID        WHERE 1=1  AND t.IsDelete=0 and t.System_Station_ID= @param0]
[2018-01-25 18:58:06,341][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetInitiateApplicationList] Prepared SQL: [SELECT * FROM sp_approvaltype        WHERE ID IN (        SELECT ApprovalType_ID FROM sp_approvalvisrange WHERE (TypeID =  @param0  and Type = 1)        OR (Type = 0 and FIND_IN_SET(TypeID,(SELECT group_concat(getParentList (Department_ID)) FROM h_station_account_department WHERE Account_ID =  @param0  AND System_Station_ID =  @param1 ))        ) OR (Type = 2 and TypeID =  @param1 ))        AND System_Station_ID =  @param1  AND IsDelete = 0 AND Enditable = 1]
[2018-01-25 18:58:06,342][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApplicationCustomfield] Prepared SQL: [SELECT * from h_customfield where BusType= @param0  and IsDelete=0 order by SortID]
[2018-01-25 18:58:06,342][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApplicationCondition] Prepared SQL: [SELECT *,AccIds as AccId,DeptIds as DeptId from sp_approvalcondition where ApprovalType_ID= @param0  order by Priority]
[2018-01-25 18:58:06,343][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetDepartment] Prepared SQL: [select a.*,b.Name as AccountName from h_station_account_department a left join h_station_account b on b.Account_ID = a.Account_ID where a.System_Station_ID =  @param0 ;]
[2018-01-25 18:58:06,343][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApprovalConditionObject] Prepared SQL: [SELECT a.*,b.Name as AccName from sp_conditionapproveobject a left join h_station_account b on b.Account_ID = a.AccId order by a.ApprovalCondition_ID,a.Priority]
[2018-01-25 18:58:06,344][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApprovalConditionCC] Prepared SQL: [SELECT a.*,b.Name as AccName from sp_approvalcc a left join h_station_account b on b.Account_ID = a.AccId]
[2018-01-25 18:58:06,344][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetUpDeparts] Prepared SQL: [select getParentList(Department_ID) FROM h_station_account_department where Account_ID =  @param0  and IsMain = 1 and System_Station_ID =  @param1 ;]
[2018-01-25 18:58:06,345][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApprovalInfoModel] Prepared SQL: [SELECT  a.ApprovalType_ID as ID, concat(s.`Name`,'的',t.`Name`) as Title,ApprovalStatus,ApprovalContent        FROM sp_approvallist a        LEFT JOIN sp_approvaltype t ON a.ApprovalType_ID = t.ID        LEFT JOIN h_station_account s ON a.AddPerson = s.Account_ID        WHERE a.ID = @param0]
[2018-01-25 18:58:06,345][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApprovalFieldList] Prepared SQL: [SELECT a.ID FieldID,a.PID,a.`Name` ShowName,b.`Value` ShowValue  from h_customfield a        join h_customfield_value b on a.FieldName = b.FieldName        where a.BusType = concat('approval_', @param0 ) and b.BusType = 100 and b.BusID =  @param1         order by a.SortID,b.ID]
[2018-01-25 18:58:06,345][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApprovalProcessList] Prepared SQL: [select a.*,b.`Name` AccName from sp_approvalprocess a        LEFT JOIN h_station_account b on b.Account_ID=a.AccID where a.ApprovalList_ID =  @param0         Order by Deepth;]
[2018-01-25 18:58:06,346][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApprovalTransferListList] Prepared SQL: [select a.*,b.`Name` AccName from sp_approvaltransfer a        LEFT JOIN h_station_account b on b.Account_ID=a.AccID where a.ApprovalList_ID =  @param0 ;]
[2018-01-25 18:58:06,346][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApprovalprocessModel] Prepared SQL: [SELECT a.ID,a.ApprovalList_ID,a.CounterSign,a.Deepth,a.ApprovalTransfer_ID,        (case when b.AccID > 0 then b.AccID else a.AccID end) as AccID,        (case when b.AccID > 0 then b.Remark else a.Remark end) as Remark,        (case when b.AccID > 0 then b.operationTime else a.operationTime end) as operationTime,        (case when b.AccID > 0 then b.operationStatus else a.operationStatus end) as operationStatus        from sp_approvalprocess a        left join sp_approvaltransfer b on a.approvalTransfer_ID = b.ID        where a.approvallist_id= @param0  and a.Deepth= @param1]
[2018-01-25 18:58:06,347][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApprovaltransferModel] Prepared SQL: [SELECT * from Sp_Approvaltransfer where approvallist_id= @param0]
[2018-01-25 18:58:06,347][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetProcessTransferModel] Prepared SQL: [SELECT a.AccID,b.AccID AccID1 from sp_approvalprocess a left join  sp_approvaltransfer b on a.ApprovalTransfer_ID = b.ID        where a.ApprovalList_ID =  @param0  and a.Deepth =  @param1]
[2018-01-25 18:58:06,348][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApprovalVisrangeList] Prepared SQL: [select a.ApprovalType_ID, a.Type as IsAccount,a.TypeID as DepartmentID,        (case a.Type when 1 then b.`Name` when 2 then  d.`Name` else c.`Name` end) as `Name`        from sp_approvalvisrange a        left join h_station_account b on b.Account_ID=a.TypeID        left join h_department c on c.ID = a.TypeID        left join h_station d on d.ID = a.TypeID        where a.ApprovalType_ID =  @param0]
[2018-01-25 18:58:06,348][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApprovalObjectList] Prepared SQL: [select a.*,b.`Name` AccName from sp_conditionapproveobject a        left join h_station_account b on a.AccId = b.Account_ID]
[2018-01-25 18:58:06,348][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApprovalCCList] Prepared SQL: [select a.*,b.`Name` AccName from sp_approvalcc a        left join h_station_account b on a.AccId = b.Account_ID]
[2018-01-25 18:58:06,349][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetDepartmentInfoList] Prepared SQL: [select ID Department_ID,Name AccountName from h_department]
[2018-01-25 18:58:06,349][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetAcountInfoList] Prepared SQL: [select Account_ID,Name AccountName  from h_station_account where System_Station_ID =  @param0]
[2018-01-25 18:58:06,349][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetCCPerson] Prepared SQL: [SELECT GROUP_CONCAT(b.`Name`) as CCPerson from sp_approvallistcc a left join h_station_account b on a.AccID=b.Account_ID where ApprovalList_ID= @param0]
[2018-01-25 18:58:06,350][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [EnditableApprovalTemplet] Prepared SQL: [update Sp_Approvaltype set Enditable =  @param0  where ID =  @param1 ;]
[2018-01-25 18:58:06,351][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [DeleteApprovalTemplet] Prepared SQL: [update Sp_Approvaltype set IsDelete = 1 where ID =  @param0 ;]
[2018-01-25 18:58:06,361][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetAllDepartment] Prepared SQL: [SELECT        t.ID,        t.CID,        d.`Name` CName,        t. NAME,        s.Name as StationName,        t.AddTime,        t.AddPerson        FROM        h_department t        LEFT JOIN h_station s on t.System_Station_ID=s.ID        LEFT JOIN h_department d ON t.CID=d.ID        where t.System_Station_ID =  @param0]
[2018-01-25 18:58:06,415][thdId:1]-[DEBUG]-[CT.Common.Services.Bootstrapper][EnableExceptionLess]-- exceptionless exceptionLessServerUrl=http://47.97.163.229:5000/
[2018-01-25 18:58:06,415][thdId:1]-[DEBUG]-[CT.Common.Services.Bootstrapper][EnableExceptionLess]-- exceptionless exceptionLessKey=
[2018-01-25 18:58:06,415][thdId:1]-[DEBUG]-[CT.Common.Services.Bootstrapper][EnableExceptionLess]-- exceptionLess配置为空，不启用
[2018-01-25 18:58:15,745][thdId:9]-[DEBUG]-[SimpleConf.Client.Client.PullService][Debug]-- 当前Command=Alive
[2018-01-25 18:58:15,750][thdId:9]-[DEBUG]-[SimpleConf.Client.Client.Command.AliveAdapterImpl][Debug]-- Alive
[2018-01-25 18:58:31,930][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.DomSqlMapBuilder][ParseGlobalProperties]-- Add property "useStatementNamespaces" value "false"
[2018-01-25 18:58:31,994][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [_getSystemTime] Prepared SQL: [select now();]
[2018-01-25 18:58:32,003][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [selectStationByAccessId] Prepared SQL: [select        h_station.*        from        h_station        where h_station.AccessKeyId= @param0         limit 1]
[2018-01-25 18:58:32,004][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [selectStationByDomain] Prepared SQL: [select        h_station.*        from        h_station        where        (h_station.DomainName= @param0         or h_station.DomainUser= @param0         or h_station.Dominphone= @param0 )        and Valid=1        limit 1]
[2018-01-25 18:58:32,008][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [__selectControllerRole] Prepared SQL: [select * from ControllerRole        where controller= @param0         and action= @param1         and project= @param2         limit 1]
[2018-01-25 18:58:32,044][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApprovalTemplet] Prepared SQL: [SELECT        a.*,(SELECT `Name` from h_station_account where Account_ID=a.AddPersion) as AddPersonName        FROM        sp_approvaltype a        where a.System_Station_ID= @param0  and a.IsDelete=0        order by  a.Enditable desc,a.AddTime desc]
[2018-01-25 18:58:32,045][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetSelectApproval] Prepared SQL: [SELECT a.*,t.`Name` as Title,s.`Name` as AddPersonName,c.ShowName,v.`Value`,c.FieldType from sp_approvallist a        LEFT join sp_approvaltype t on a.ApprovalType_ID=t.ID        LEFT JOIN h_station_account s on a.AddPerson=s.Account_ID        LEFT JOIN h_customfield c on a.ApprovalType_ID=SUBSTRING(c.BusType,10)        LEFT JOIN h_customfield_value v on c.FieldName=v.FieldName        where a.ID= @param0]
[2018-01-25 18:58:32,046][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApprovalField] Prepared SQL: [SELECT ID,Name,DataSource,FieldType from h_customfield  where BusType= @param0  and FieldType in(103,104,106,110) and PID=0 and System_Station_ID= @param1]
[2018-01-25 18:58:32,046][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetAllAcoount] Prepared SQL: [SELECT        t.Account_ID,        t.System_Station_ID,        t.`Name`,        s.Phone,        s.CardNumber,        t.AddTime,        t.Valid,        t.IsAdministrator,        t.Stationproxy_ID,        z.LoginTime,        z.LoginCount,        y.Departments        FROM        h_station_account AS t        LEFT JOIN        (SELECT Account_ID,MAX(LoginTime) LoginTime,COUNT(Account_ID) LoginCount        FROM h_station_account_logindetail GROUP BY Account_ID ORDER BY Account_ID ASC  ) z ON t.Account_ID=z.Account_ID        LEFT JOIN (        SELECT        n.Account_ID,        GROUP_CONCAT(n.Department_ID, ':', n.IsManager) AS Departments        FROM        (SELECT Account_ID,Department_ID,IsMain,IsManager FROM h_station_account_department ORDER BY IsMain desc) n        GROUP BY n.Account_ID        ) y ON t.Account_ID=y.Account_ID        LEFT JOIN h_account s ON t.AccountID=s.ID        WHERE 1=1  AND t.IsDelete=0 and t.System_Station_ID= @param0]
[2018-01-25 18:58:32,047][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetInitiateApplicationList] Prepared SQL: [SELECT * FROM sp_approvaltype        WHERE ID IN (        SELECT ApprovalType_ID FROM sp_approvalvisrange WHERE (TypeID =  @param0  and Type = 1)        OR (Type = 0 and FIND_IN_SET(TypeID,(SELECT group_concat(getParentList (Department_ID)) FROM h_station_account_department WHERE Account_ID =  @param0  AND System_Station_ID =  @param1 ))        ) OR (Type = 2 and TypeID =  @param1 ))        AND System_Station_ID =  @param1  AND IsDelete = 0 AND Enditable = 1]
[2018-01-25 18:58:32,048][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApplicationCustomfield] Prepared SQL: [SELECT * from h_customfield where BusType= @param0  and IsDelete=0 order by SortID]
[2018-01-25 18:58:32,048][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApplicationCondition] Prepared SQL: [SELECT *,AccIds as AccId,DeptIds as DeptId from sp_approvalcondition where ApprovalType_ID= @param0  order by Priority]
[2018-01-25 18:58:32,049][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetDepartment] Prepared SQL: [select a.*,b.Name as AccountName from h_station_account_department a left join h_station_account b on b.Account_ID = a.Account_ID where a.System_Station_ID =  @param0 ;]
[2018-01-25 18:58:32,049][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApprovalConditionObject] Prepared SQL: [SELECT a.*,b.Name as AccName from sp_conditionapproveobject a left join h_station_account b on b.Account_ID = a.AccId order by a.ApprovalCondition_ID,a.Priority]
[2018-01-25 18:58:32,050][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApprovalConditionCC] Prepared SQL: [SELECT a.*,b.Name as AccName from sp_approvalcc a left join h_station_account b on b.Account_ID = a.AccId]
[2018-01-25 18:58:32,050][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetUpDeparts] Prepared SQL: [select getParentList(Department_ID) FROM h_station_account_department where Account_ID =  @param0  and IsMain = 1 and System_Station_ID =  @param1 ;]
[2018-01-25 18:58:32,051][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApprovalInfoModel] Prepared SQL: [SELECT  a.ApprovalType_ID as ID, concat(s.`Name`,'的',t.`Name`) as Title,ApprovalStatus,ApprovalContent        FROM sp_approvallist a        LEFT JOIN sp_approvaltype t ON a.ApprovalType_ID = t.ID        LEFT JOIN h_station_account s ON a.AddPerson = s.Account_ID        WHERE a.ID = @param0]
[2018-01-25 18:58:32,051][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApprovalFieldList] Prepared SQL: [SELECT a.ID FieldID,a.PID,a.`Name` ShowName,b.`Value` ShowValue  from h_customfield a        join h_customfield_value b on a.FieldName = b.FieldName        where a.BusType = concat('approval_', @param0 ) and b.BusType = 100 and b.BusID =  @param1         order by a.SortID,b.ID]
[2018-01-25 18:58:32,052][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApprovalProcessList] Prepared SQL: [select a.*,b.`Name` AccName from sp_approvalprocess a        LEFT JOIN h_station_account b on b.Account_ID=a.AccID where a.ApprovalList_ID =  @param0         Order by Deepth;]
[2018-01-25 18:58:32,052][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApprovalTransferListList] Prepared SQL: [select a.*,b.`Name` AccName from sp_approvaltransfer a        LEFT JOIN h_station_account b on b.Account_ID=a.AccID where a.ApprovalList_ID =  @param0 ;]
[2018-01-25 18:58:32,053][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApprovalprocessModel] Prepared SQL: [SELECT a.ID,a.ApprovalList_ID,a.CounterSign,a.Deepth,a.ApprovalTransfer_ID,        (case when b.AccID > 0 then b.AccID else a.AccID end) as AccID,        (case when b.AccID > 0 then b.Remark else a.Remark end) as Remark,        (case when b.AccID > 0 then b.operationTime else a.operationTime end) as operationTime,        (case when b.AccID > 0 then b.operationStatus else a.operationStatus end) as operationStatus        from sp_approvalprocess a        left join sp_approvaltransfer b on a.approvalTransfer_ID = b.ID        where a.approvallist_id= @param0  and a.Deepth= @param1]
[2018-01-25 18:58:32,053][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApprovaltransferModel] Prepared SQL: [SELECT * from Sp_Approvaltransfer where approvallist_id= @param0]
[2018-01-25 18:58:32,054][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetProcessTransferModel] Prepared SQL: [SELECT a.AccID,b.AccID AccID1 from sp_approvalprocess a left join  sp_approvaltransfer b on a.ApprovalTransfer_ID = b.ID        where a.ApprovalList_ID =  @param0  and a.Deepth =  @param1]
[2018-01-25 18:58:32,054][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApprovalVisrangeList] Prepared SQL: [select a.ApprovalType_ID, a.Type as IsAccount,a.TypeID as DepartmentID,        (case a.Type when 1 then b.`Name` when 2 then  d.`Name` else c.`Name` end) as `Name`        from sp_approvalvisrange a        left join h_station_account b on b.Account_ID=a.TypeID        left join h_department c on c.ID = a.TypeID        left join h_station d on d.ID = a.TypeID        where a.ApprovalType_ID =  @param0]
[2018-01-25 18:58:32,054][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApprovalObjectList] Prepared SQL: [select a.*,b.`Name` AccName from sp_conditionapproveobject a        left join h_station_account b on a.AccId = b.Account_ID]
[2018-01-25 18:58:32,055][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApprovalCCList] Prepared SQL: [select a.*,b.`Name` AccName from sp_approvalcc a        left join h_station_account b on a.AccId = b.Account_ID]
[2018-01-25 18:58:32,055][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetDepartmentInfoList] Prepared SQL: [select ID Department_ID,Name AccountName from h_department]
[2018-01-25 18:58:32,055][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetAcountInfoList] Prepared SQL: [select Account_ID,Name AccountName  from h_station_account where System_Station_ID =  @param0]
[2018-01-25 18:58:32,056][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetCCPerson] Prepared SQL: [SELECT GROUP_CONCAT(b.`Name`) as CCPerson from sp_approvallistcc a left join h_station_account b on a.AccID=b.Account_ID where ApprovalList_ID= @param0]
[2018-01-25 18:58:32,057][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [EnditableApprovalTemplet] Prepared SQL: [update Sp_Approvaltype set Enditable =  @param0  where ID =  @param1 ;]
[2018-01-25 18:58:32,057][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [DeleteApprovalTemplet] Prepared SQL: [update Sp_Approvaltype set IsDelete = 1 where ID =  @param0 ;]
[2018-01-25 18:58:32,071][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetAllDepartment] Prepared SQL: [SELECT        t.ID,        t.CID,        d.`Name` CName,        t. NAME,        s.Name as StationName,        t.AddTime,        t.AddPerson        FROM        h_department t        LEFT JOIN h_station s on t.System_Station_ID=s.ID        LEFT JOIN h_department d ON t.CID=d.ID        where t.System_Station_ID =  @param0]
[2018-01-25 18:58:32,117][thdId:1]-[DEBUG]-[CT.Common.Services.Bootstrapper][EnableExceptionLess]-- exceptionless exceptionLessServerUrl=http://47.97.163.229:5000/
[2018-01-25 18:58:32,117][thdId:1]-[DEBUG]-[CT.Common.Services.Bootstrapper][EnableExceptionLess]-- exceptionless exceptionLessKey=
[2018-01-25 18:58:32,118][thdId:1]-[DEBUG]-[CT.Common.Services.Bootstrapper][EnableExceptionLess]-- exceptionLess配置为空，不启用
[2018-01-25 18:58:59,934][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.DomSqlMapBuilder][ParseGlobalProperties]-- Add property "useStatementNamespaces" value "false"
[2018-01-25 18:58:59,998][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [_getSystemTime] Prepared SQL: [select now();]
[2018-01-25 18:59:00,007][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [selectStationByAccessId] Prepared SQL: [select        h_station.*        from        h_station        where h_station.AccessKeyId= @param0         limit 1]
[2018-01-25 18:59:00,008][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [selectStationByDomain] Prepared SQL: [select        h_station.*        from        h_station        where        (h_station.DomainName= @param0         or h_station.DomainUser= @param0         or h_station.Dominphone= @param0 )        and Valid=1        limit 1]
[2018-01-25 18:59:00,012][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [__selectControllerRole] Prepared SQL: [select * from ControllerRole        where controller= @param0         and action= @param1         and project= @param2         limit 1]
[2018-01-25 18:59:00,051][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApprovalTemplet] Prepared SQL: [SELECT        a.*,(SELECT `Name` from h_station_account where Account_ID=a.AddPersion) as AddPersonName        FROM        sp_approvaltype a        where a.System_Station_ID= @param0  and a.IsDelete=0        order by  a.Enditable desc,a.AddTime desc]
[2018-01-25 18:59:00,052][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetSelectApproval] Prepared SQL: [SELECT a.*,t.`Name` as Title,s.`Name` as AddPersonName,c.ShowName,v.`Value`,c.FieldType from sp_approvallist a        LEFT join sp_approvaltype t on a.ApprovalType_ID=t.ID        LEFT JOIN h_station_account s on a.AddPerson=s.Account_ID        LEFT JOIN h_customfield c on a.ApprovalType_ID=SUBSTRING(c.BusType,10)        LEFT JOIN h_customfield_value v on c.FieldName=v.FieldName        where a.ID= @param0]
[2018-01-25 18:59:00,052][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApprovalField] Prepared SQL: [SELECT ID,Name,DataSource,FieldType from h_customfield  where BusType= @param0  and FieldType in(103,104,106,110) and PID=0 and System_Station_ID= @param1]
[2018-01-25 18:59:00,053][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetAllAcoount] Prepared SQL: [SELECT        t.Account_ID,        t.System_Station_ID,        t.`Name`,        s.Phone,        s.CardNumber,        t.AddTime,        t.Valid,        t.IsAdministrator,        t.Stationproxy_ID,        z.LoginTime,        z.LoginCount,        y.Departments        FROM        h_station_account AS t        LEFT JOIN        (SELECT Account_ID,MAX(LoginTime) LoginTime,COUNT(Account_ID) LoginCount        FROM h_station_account_logindetail GROUP BY Account_ID ORDER BY Account_ID ASC  ) z ON t.Account_ID=z.Account_ID        LEFT JOIN (        SELECT        n.Account_ID,        GROUP_CONCAT(n.Department_ID, ':', n.IsManager) AS Departments        FROM        (SELECT Account_ID,Department_ID,IsMain,IsManager FROM h_station_account_department ORDER BY IsMain desc) n        GROUP BY n.Account_ID        ) y ON t.Account_ID=y.Account_ID        LEFT JOIN h_account s ON t.AccountID=s.ID        WHERE 1=1  AND t.IsDelete=0 and t.System_Station_ID= @param0]
[2018-01-25 18:59:00,053][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetInitiateApplicationList] Prepared SQL: [SELECT * FROM sp_approvaltype        WHERE ID IN (        SELECT ApprovalType_ID FROM sp_approvalvisrange WHERE (TypeID =  @param0  and Type = 1)        OR (Type = 0 and FIND_IN_SET(TypeID,(SELECT group_concat(getParentList (Department_ID)) FROM h_station_account_department WHERE Account_ID =  @param0  AND System_Station_ID =  @param1 ))        ) OR (Type = 2 and TypeID =  @param1 ))        AND System_Station_ID =  @param1  AND IsDelete = 0 AND Enditable = 1]
[2018-01-25 18:59:00,054][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApplicationCustomfield] Prepared SQL: [SELECT * from h_customfield where BusType= @param0  and IsDelete=0 order by SortID]
[2018-01-25 18:59:00,054][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApplicationCondition] Prepared SQL: [SELECT *,AccIds as AccId,DeptIds as DeptId from sp_approvalcondition where ApprovalType_ID= @param0  order by Priority]
[2018-01-25 18:59:00,055][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetDepartment] Prepared SQL: [select a.*,b.Name as AccountName from h_station_account_department a left join h_station_account b on b.Account_ID = a.Account_ID where a.System_Station_ID =  @param0 ;]
[2018-01-25 18:59:00,055][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApprovalConditionObject] Prepared SQL: [SELECT a.*,b.Name as AccName from sp_conditionapproveobject a left join h_station_account b on b.Account_ID = a.AccId order by a.ApprovalCondition_ID,a.Priority]
[2018-01-25 18:59:00,055][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApprovalConditionCC] Prepared SQL: [SELECT a.*,b.Name as AccName from sp_approvalcc a left join h_station_account b on b.Account_ID = a.AccId]
[2018-01-25 18:59:00,056][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetUpDeparts] Prepared SQL: [select getParentList(Department_ID) FROM h_station_account_department where Account_ID =  @param0  and IsMain = 1 and System_Station_ID =  @param1 ;]
[2018-01-25 18:59:00,056][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApprovalInfoModel] Prepared SQL: [SELECT  a.ApprovalType_ID as ID, concat(s.`Name`,'的',t.`Name`) as Title,ApprovalStatus,ApprovalContent        FROM sp_approvallist a        LEFT JOIN sp_approvaltype t ON a.ApprovalType_ID = t.ID        LEFT JOIN h_station_account s ON a.AddPerson = s.Account_ID        WHERE a.ID = @param0]
[2018-01-25 18:59:00,057][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApprovalFieldList] Prepared SQL: [SELECT a.ID FieldID,a.PID,a.`Name` ShowName,b.`Value` ShowValue  from h_customfield a        join h_customfield_value b on a.FieldName = b.FieldName        where a.BusType = concat('approval_', @param0 ) and b.BusType = 100 and b.BusID =  @param1         order by a.SortID,b.ID]
[2018-01-25 18:59:00,058][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApprovalProcessList] Prepared SQL: [select a.*,b.`Name` AccName from sp_approvalprocess a        LEFT JOIN h_station_account b on b.Account_ID=a.AccID where a.ApprovalList_ID =  @param0         Order by Deepth;]
[2018-01-25 18:59:00,058][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApprovalTransferListList] Prepared SQL: [select a.*,b.`Name` AccName from sp_approvaltransfer a        LEFT JOIN h_station_account b on b.Account_ID=a.AccID where a.ApprovalList_ID =  @param0 ;]
[2018-01-25 18:59:00,059][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApprovalprocessModel] Prepared SQL: [SELECT a.ID,a.ApprovalList_ID,a.CounterSign,a.Deepth,a.ApprovalTransfer_ID,        (case when b.AccID > 0 then b.AccID else a.AccID end) as AccID,        (case when b.AccID > 0 then b.Remark else a.Remark end) as Remark,        (case when b.AccID > 0 then b.operationTime else a.operationTime end) as operationTime,        (case when b.AccID > 0 then b.operationStatus else a.operationStatus end) as operationStatus        from sp_approvalprocess a        left join sp_approvaltransfer b on a.approvalTransfer_ID = b.ID        where a.approvallist_id= @param0  and a.Deepth= @param1]
[2018-01-25 18:59:00,059][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApprovaltransferModel] Prepared SQL: [SELECT * from Sp_Approvaltransfer where approvallist_id= @param0]
[2018-01-25 18:59:00,060][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetProcessTransferModel] Prepared SQL: [SELECT a.AccID,b.AccID AccID1 from sp_approvalprocess a left join  sp_approvaltransfer b on a.ApprovalTransfer_ID = b.ID        where a.ApprovalList_ID =  @param0  and a.Deepth =  @param1]
[2018-01-25 18:59:00,060][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApprovalVisrangeList] Prepared SQL: [select a.ApprovalType_ID, a.Type as IsAccount,a.TypeID as DepartmentID,        (case a.Type when 1 then b.`Name` when 2 then  d.`Name` else c.`Name` end) as `Name`        from sp_approvalvisrange a        left join h_station_account b on b.Account_ID=a.TypeID        left join h_department c on c.ID = a.TypeID        left join h_station d on d.ID = a.TypeID        where a.ApprovalType_ID =  @param0]
[2018-01-25 18:59:00,061][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApprovalObjectList] Prepared SQL: [select a.*,b.`Name` AccName from sp_conditionapproveobject a        left join h_station_account b on a.AccId = b.Account_ID]
[2018-01-25 18:59:00,061][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApprovalCCList] Prepared SQL: [select a.*,b.`Name` AccName from sp_approvalcc a        left join h_station_account b on a.AccId = b.Account_ID]
[2018-01-25 18:59:00,061][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetDepartmentInfoList] Prepared SQL: [select ID Department_ID,Name AccountName from h_department]
[2018-01-25 18:59:00,061][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetAcountInfoList] Prepared SQL: [select Account_ID,Name AccountName  from h_station_account where System_Station_ID =  @param0]
[2018-01-25 18:59:00,062][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetCCPerson] Prepared SQL: [SELECT GROUP_CONCAT(b.`Name`) as CCPerson from sp_approvallistcc a left join h_station_account b on a.AccID=b.Account_ID where ApprovalList_ID= @param0]
[2018-01-25 18:59:00,063][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [EnditableApprovalTemplet] Prepared SQL: [update Sp_Approvaltype set Enditable =  @param0  where ID =  @param1 ;]
[2018-01-25 18:59:00,063][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [DeleteApprovalTemplet] Prepared SQL: [update Sp_Approvaltype set IsDelete = 1 where ID =  @param0 ;]
[2018-01-25 18:59:00,075][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetAllDepartment] Prepared SQL: [SELECT        t.ID,        t.CID,        d.`Name` CName,        t. NAME,        s.Name as StationName,        t.AddTime,        t.AddPerson        FROM        h_department t        LEFT JOIN h_station s on t.System_Station_ID=s.ID        LEFT JOIN h_department d ON t.CID=d.ID        where t.System_Station_ID =  @param0]
[2018-01-25 18:59:00,123][thdId:1]-[DEBUG]-[CT.Common.Services.Bootstrapper][EnableExceptionLess]-- exceptionless exceptionLessServerUrl=http://47.97.163.229:5000/
[2018-01-25 18:59:00,123][thdId:1]-[DEBUG]-[CT.Common.Services.Bootstrapper][EnableExceptionLess]-- exceptionless exceptionLessKey=
[2018-01-25 18:59:00,124][thdId:1]-[DEBUG]-[CT.Common.Services.Bootstrapper][EnableExceptionLess]-- exceptionLess配置为空，不启用

[2017-12-15 20:22:20,325][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.DomSqlMapBuilder][ParseGlobalProperties]-- Add property "useStatementNamespaces" value "false"
[2017-12-15 20:22:20,400][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [_getSystemTime] Prepared SQL: [select now();]
[2017-12-15 20:22:20,412][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [selectStationByAccessId] Prepared SQL: [select        h_station.*        from        h_station        where h_station.AccessKeyId= @param0         limit 1]
[2017-12-15 20:22:20,417][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApprovalTemplet] Prepared SQL: [SELECT        a.*,(SELECT `Name` from h_station_account where Account_ID=a.AddPersion) as AddPersonName        FROM        sp_approvaltype a        where a.System_Station_ID=43 and a.IsDelete=0 and a.Enditable=1        order by  a.Enditable desc]
[2017-12-15 20:22:20,418][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetSelectApproval] Prepared SQL: [SELECT a.*,t.`Name` as Title,s.`Name` as AddPersonName,c.ShowName,v.`Value`,c.FieldType from sp_approvallist a        LEFT join sp_approvaltype t on a.ApprovalType_ID=t.ID        LEFT JOIN h_station_account s on a.AddPerson=s.Account_ID        LEFT JOIN h_customfield c on a.ApprovalType_ID=SUBSTRING(c.BusType,10)        LEFT JOIN h_customfield_value v on c.FieldName=v.FieldName        where a.ID= @param0]
[2017-12-15 20:22:20,421][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApprovalField] Prepared SQL: [SELECT ID,Name,DataSource,FieldType from h_customfield  where BusType= @param0  and FieldType in(103,104,105,106,110) and PID=0 and System_Station_ID= @param1]
[2017-12-15 20:22:20,422][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetAllAcoount] Prepared SQL: [SELECT        t.Account_ID,        t.System_Station_ID,        t.`Name`,        s.Phone,        s.CardNumber,        t.AddTime,        t.Valid,        t.IsAdministrator,        t.Stationproxy_ID,        z.LoginTime,        z.LoginCount,        y.Departments        FROM        h_station_account AS t        LEFT JOIN        (SELECT Account_ID,MAX(LoginTime) LoginTime,COUNT(Account_ID) LoginCount        FROM h_station_account_logindetail GROUP BY Account_ID ORDER BY Account_ID ASC  ) z ON t.Account_ID=z.Account_ID        LEFT JOIN (        SELECT        n.Account_ID,        GROUP_CONCAT(n.Department_ID, ':', n.IsManager) AS Departments        FROM        (SELECT Account_ID,Department_ID,IsMain,IsManager FROM h_station_account_department ORDER BY IsMain desc) n        GROUP BY n.Account_ID        ) y ON t.Account_ID=y.Account_ID        LEFT JOIN h_account s ON t.AccountID=s.ID        WHERE 1=1  AND t.IsDelete=0 and t.System_Station_ID= @param0]
[2017-12-15 20:22:20,422][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetInitiateApplicationList] Prepared SQL: [SELECT        *        FROM        sp_approvaltype        WHERE        ID IN (        SELECT DISTINCT        ApprovalType_ID        FROM        sp_approvalvisrange        WHERE        AccID =  @param0         OR DeptID IN (        SELECT        Department_ID        FROM        h_station_account_department        WHERE        Account_ID =  @param0         AND System_Station_ID =  @param1         )        ) and System_Station_ID= @param1  and IsDelete=0 and Enditable =1]
[2017-12-15 20:22:20,423][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApplicationCustomfield] Prepared SQL: [SELECT * from h_customfield where BusType= @param0  and IsDelete=0 order by SortID]
[2017-12-15 20:22:20,423][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApplicationCondition] Prepared SQL: [SELECT *,AccIds as AccId,DeptIds as DeptId from sp_approvalcondition where ApprovalType_ID= @param0  order by Priority]
[2017-12-15 20:22:20,424][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetDepartment] Prepared SQL: [select a.*,b.Name as AccountName from h_station_account_department a left join h_station_account b on b.Account_ID = a.Account_ID where a.System_Station_ID =  @param0 ;]
[2017-12-15 20:22:20,425][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApprovalConditionObject] Prepared SQL: [SELECT a.*,b.Name as AccName from sp_conditionapproveobject a left join h_station_account b on b.Account_ID = a.AccId order by a.ApprovalCondition_ID,a.Priority]
[2017-12-15 20:22:20,425][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApprovalConditionCC] Prepared SQL: [SELECT a.*,b.Name as AccName from sp_approvalcc a left join h_station_account b on b.Account_ID = a.AccId]
[2017-12-15 20:22:20,425][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetUpDeparts] Prepared SQL: [select getParentList(Department_ID) FROM h_station_account_department where Account_ID =  @param0  and IsMain = 1 and System_Station_ID =  @param1 ;]
[2017-12-15 20:22:20,426][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApprovalInfoModel] Prepared SQL: [SELECT  a.ID, concat(s.`Name`,'µÄ',t.`Name`) as Title,ApprovalStatus        FROM sp_approvallist a        LEFT JOIN sp_approvaltype t ON a.ApprovalType_ID = t.ID        LEFT JOIN h_station_account s ON a.AddPerson = s.Account_ID        WHERE a.ID == @param0]
[2017-12-15 20:22:20,426][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApprovalFieldList] Prepared SQL: [SELECT a.ID FieldID,a.PID,a.`Name` ShowName,b.`Value` ShowValue  from h_customfield a        join h_customfield_value b on a.FieldName = b.FieldName        where a.BusType = concat('approval_', @param0 ) and b.BusType = 100 and b.BusID =  @param1         order by a.SortID]
[2017-12-15 20:22:20,427][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApprovalProcessList] Prepared SQL: [select a.*,b.`Name` AccName from sp_approvalprocess a        LEFT JOIN h_station_account b on b.Account_ID=a.AccID where a.ApprovalList_ID =  @param0         Order by Deepth;]
[2017-12-15 20:22:20,427][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [GetApprovalTransferListList] Prepared SQL: [select a.*,b.`Name` AccName from sp_approvaltransfer a        LEFT JOIN h_station_account b on b.Account_ID=a.AccID where a.ApprovalList_ID =  @param0 ;]
[2017-12-15 20:22:20,428][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [EnditableApprovalTemplet] Prepared SQL: [update Sp_Approvaltype set Enditable =  @param0  where ID =  @param1 ;]
[2017-12-15 20:22:20,428][thdId:1]-[DEBUG]-[IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory][Prepare]-- Statement Id: [DeleteApprovalTemplet] Prepared SQL: [update Sp_Approvaltype set IsDelete = 1 where ID =  @param0 ;]
